{% extends "base.html" %}
{% load static i18n %}
{% load staticfiles %}

{% block content %}
<div class='container'>
<br/>

  <html lang="en" >
    <div class='container-fluid' style='background-color: #f7f7f7'>
  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title> Orders</title>
    <link rel="stylesheet" href="{% static 'css/progressbar.css' %}">
    <style media="screen">
      body {
        background-color: #f7f7f7 !important;
      }
      @media only screen and (max-width: 992px) {
        .scrolling-wrapper {
        background-color: #fff;
        overflow-x: scroll;
        scrollbar-width: none; /* Firefox */
        -ms-overflow-style: none;  /* Internet Explorer 10+ */
        }
        .scrolling-wrapper::-webkit-scrollbar { /* WebKit */
        width: 0;
        height: 0;
        }
      }
      @media only screen and (min-width: 992px) {
        .scrolling-wrapper {
          background-color: #fff;
          -ms-overflow-style: none;  /* IE and Edge */
          scrollbar-width: none;  /* Firefox */
        }
        /* .scrolling-wrapper:hover {
          overflow-x: scroll;
        } */
        .scrolling-wrapper::-webkit-scrollbar { /* WebKit */
          display: none;
        }
      }
      .tabBtn {
        background-color: #ffffff;
        border-radius: 4px;
        border: solid 1px #f7f7f7 !important;
        border-bottom: solid 1px #68cfc3 !important;
        border-bottom-left-radius: 0px;
        border-bottom-right-radius: 0px;
      }
      .tabBtnActive {
        background-color: #ffffff;
        border-radius: 4px;
        border: solid 1px #68cfc3 !important;
        border-bottom: none !important;
        border-bottom-left-radius: 0px;
        border-bottom-right-radius: 0px;
      }
      .greenBorder {
        border: solid 1px #68cfc3;
        border-top: none;
      }
    </style>
  </head>
  <body>



        <div class="container">
          <div class="container p-0">
            <p class="py-3 mt-3" style="color: #555555; font-size: 130%; font-weight: bold;">Your Orders</p>
          </div>
        </div>
        <div class="container">
          <div class="d-flex flex-row scrolling-wrapper justify-content-between">
            <div class="col text-center mx-0 px-0">
              <div id="tab_btn1" onclick="changeTab(this.id)" class="btn btn-primary text-nowrap tabBtnActive w-100" data-toggle="collapse" data-target="#content_tab1" aria-expanded="false" aria-controls="content_tab1" style="background-color: #ffffff; border: none; color: #555; font-weight: bold">
                Paid orders
              </div>
            </div>
            <div class="col text-center mx-0 px-0">
              <div id="tab_btn2" onclick="changeTab(this.id)" class="btn btn-primary text-nowrap tabBtn w-100" data-toggle="collapse" data-target="#content_tab2" aria-expanded="false" aria-controls="content_tab2" style="background-color: #ffffff; border: none; color: #555; font-weight: bold">
                Shipped orders
              </div>
            </div>
            <div class="col text-center mx-0 px-0">
              <div id="tab_btn3" onclick="changeTab(this.id)" class="btn btn-primary text-nowrap tabBtn w-100" data-toggle="collapse" data-target="#content_tab3" aria-expanded="false" aria-controls="content_tab3" style="background-color: #ffffff; border: none; color: #555; font-weight: bold">
                Refunded Orders
              </div>
            </div>
            <div class="col text-center mx-0 px-0">
              <div id="tab_btn4" onclick="changeTab(this.id)" class="btn btn-primary text-nowrap tabBtn w-100" data-toggle="collapse" data-target="#content_tab4" aria-expanded="false" aria-controls="content_tab4" style="background-color: #ffffff; border: none; color: #555; font-weight: bold">
                Completed Orders
              </div>
            </div>
            <div class="col text-center mx-0 px-0">
              <div id="tab_btn5" onclick="changeTab(this.id)" class="btn btn-primary text-nowrap tabBtn w-100" data-toggle="collapse" data-target="#content_tab5" aria-expanded="false" aria-controls="content_tab5" style="background-color: #ffffff; border: none; color: #555; font-weight: bold">
                Cancelled orders
              </div>
            </div>

          </div>
        </div>

        <div id="content_tab1" class="container collapse show">
          <div id="infList" class="container p-0 greenBorder pt-3"  style="background: #fff">

            {% if paid_count <= 0 %}
              <div class="container" style="background: #fff !important; border-bottom: 1px solid #68CFC3;">
                <h3 class="text-center">No orders!</h3>
              </div>
            {% endif %}


        </div>
      </div>





        <div id="content_tab2" class="container collapse">
          <div id="infList2" class="container p-0 greenBorder pt-3" style="background: #fff">

            {% if shipped_count <= 0 %}
              <div class="container" style="background: #fff !important; border-bottom: 1px solid #68CFC3;">
                <h3 class="text-center">No orders!</h3>
              </div>
            {% endif %}



          </div>
        </div>


        <div id="content_tab3" class="container collapse">
          <div id="infList3" class="container p-0 greenBorder pt-3" style="background: #fff">

            {% if refund_count <= 0 %}
              <div class="container" style="background: #fff !important; border-bottom: 1px solid #68CFC3;">
                <h3 class="text-center">No orders!</h3>
              </div>
            {% endif %}



          </div>
        </div>

        <div id="content_tab4" class="container collapse">
          <div id="infList4" class="container p-0 greenBorder pt-3" style="background: #fff">

            {% if complete_count <= 0 %}
              <div class="container" style="background: #fff !important; border-bottom: 1px solid #68CFC3;">
                <h3 class="text-center">No orders!</h3>
              </div>
            {% endif %}



          </div>
        </div>

        <div id="content_tab5" class="container collapse">
          <div id="infList5" class="container p-0 greenBorder pt-3" style="background: #fff">

            {% if cancel_count <= 0 %}
              <div class="container" style="background: #fff !important; border-bottom: 1px solid #68CFC3;">
                <h3 class="text-center">No orders!</h3>
              </div>
            {% endif %}


          </div>
        </div>

          <script type="text/javascript">
            var selTab = "tab_btn1";
            function changeTab(id) {
              console.log("id", id);
              selTab = id;
              document.getElementById('content_tab1').className = "container collapse";
              document.getElementById('content_tab2').className = "container collapse";
              document.getElementById('content_tab3').className = "container collapse";
              document.getElementById('content_tab4').className = "container collapse";
              document.getElementById('content_tab5').className = "container collapse";
              document.getElementById('tab_btn1').className = "btn btn-primary text-nowrap tabBtn w-100";
              document.getElementById('tab_btn2').className = "btn btn-primary text-nowrap tabBtn w-100";
              document.getElementById('tab_btn3').className = "btn btn-primary text-nowrap tabBtn w-100";
              document.getElementById('tab_btn4').className = "btn btn-primary text-nowrap tabBtn w-100";
              document.getElementById('tab_btn5').className = "btn btn-primary text-nowrap tabBtn w-100";
              document.getElementById(id).className = "btn btn-primary text-nowrap tabBtnActive w-100";
              loadTabData();
            }

          //var prod = {{ qs_json | safe }};
          //console.log("json", prod);
          var listElm = document.getElementById('infList');
          // Add 20 items.
          var start = 0;
          var end = 0;
          var qs = [
          {% for item in products %}
            {% for object in item.cart.cartitem_set.all %}
              {% if object.status == 'paid' %}
              {
                {% if object.product.image %}
                  src: "{{ object.product.image.url }}",
                {% else %}
                  src: "",
                {% endif %}
                oid: "{{ item.order_id }}",
                trans_1: "{% trans "Order Total" %}",
                ototal: "{{ item.total }}",
                pat: "{{ item.timestamp }}",
                quant: "{{ object.quantity }}",
                p_name: "{{ object.product.product_name }}",
                {% if object.product.discount_price %}
                strike: "true",
                cpd: "{{ object.product.cost_per_day }}",
                dp: "{{ object.product.discount_price }}",
                ps: "{{ object.product.get_amount_percent_saved }}",
                {% else %}
                strike: "false",
                cpd: "{{ object.product.cost_per_day }}",
                {% endif %}
                trans_2: "{% trans "Cost" %}",
                total: "{{ object.line_total }}",
                sd: "{{ object.start_date }}",
                ed: "{{ object.end_date }}",
                days:"{{ object.days }}",
                {% for o in object.product.user.supplier_set.all %}
                  trans_3: "{% trans "lended by" %}",
                  sname: "{{ o.Shop_name }}",
                  trans_4: "{% trans "Contact" %}",
                  mno: "{{ o.Mobile_number }}",
                {% endfor %}
                lu: "{{ object.updated }}",
                btn: '{{ item.get_absolute_url }}',
              },
              {% endif %}
            {% endfor %}
          {% endfor %}
         ];

        console.log("qs",qs);
         var loadMore = function() {
           console.log('start',start);
           console.log('end',end);
          if (qs.length <= 0) {
            var h3 = document.createElement('h3');
            h3.className = "text-center";
            h3.innerHTML = "No Orders yet!";
            listElm.appendChild(h3);
          } else {
            end += 5;
            if (end >= qs.length) {
              end = qs.length;
            }
            for (var i = start; i < end; i++) {
              console.log('start',start);
              console.log('end',end);
              var object = qs[i];
              console.log("in");
              var mainCont = document.createElement('div');
              mainCont.className = "container";
              mainCont.setAttribute("style", "background: #fff !important; border-bottom: 1px solid #68cfc3;");
              var imgRow = document.createElement('div');
              imgRow.className = "row pt-3";
              var imgCol = document.createElement('div');
              imgCol.className = "col-xs-2 col-md-1";
              var img = document.createElement('img');
              img.className = "img-thumbnail rounded flaot-left";
              img.setAttribute("style", "width: 60px; height: 60px");
              img.src = object.src;
              imgCol.appendChild(img);
              imgRow.appendChild(imgCol);
              var textCol = document.createElement('div');
              textCol.className = "col-xs-9 col-md-8 text-left pr-0 mr-0 justify-content-start";
              var p1 = document.createElement('p');
              p1.className = "pb-0 mb-0 text-left";
              p1.setAttribute("style", "font-size: 16px;font-weight: normal;font-stretch: normal;font-style: normal;letter-spacing: normal;text-align: left;color: #555;");
              var p1_oid = document.createElement('p');
              p1_oid.className = "text-center";
              var node1_oid = document.createTextNode("Order Id:- "+object.oid);
              var p1_ot = document.createElement('p');
              p1_ot.className = "text-center";
              var node1_ot = document.createTextNode(object.trans_1 + " :- " + "¥" + object.ototal);
              p1_ot.appendChild(node1_ot);
              var p1_pat = document.createElement('p');
              p1_pat.className = "text-center";
              var node1_pat = document.createTextNode("Placed At:- "+object.pat);
              p1_pat.appendChild(node1_pat);
              p1.appendChild(p1_oid);
              p1.appendChild(p1_ot);
              p1.appendChild(p1_pat);
              var node1 = document. createTextNode(object.quant + " X " + object.p_name);
              p1.appendChild(node1);
              textCol.appendChild(p1);
              var textRow = document.createElement('div');
              textRow.className = "d-flex flex-row flex-wrap justify-content-start text-left";
              var textCol2 = document.createElement('div');
              textCol2.className = "col pr-0 pl-0 ml-0";
              var p2 = document.createElement('p');
              p2.className = "pb-0 mb-0 text-left";
              p2.setAttribute("style", "font-size: 16px;font-weight: normal;font-stretch: normal;font-style: normal;letter-spacing: normal;text-align: left;color: #aaa;");
              if (object.strike) {
                var str = document.createElement('strike');
                str.innerHTML = "Y"+object.cpd+ " / 日";
                p2.appendChild(str);
                var node2 = document. createTextNode("Y"+object.dp+ " / 日" + " (" + object.ps + "% Off)");
                p2.appendChild(node2);
              } else {
                var node2 = document. createTextNode("Y" + object.cpd);
                p2.appendChild(node2);
              }
              var h = document.createElement('h6');
              h.innerHTML = "Cost -: &#165;"+object.total;
              var p3 = document.createElement('p');
              p3.className = "pb-0 mb-0 text-left";
              p3.setAttribute("style", "font-size: 16px;font-weight: normal;font-stretch: normal;font-style: normal;letter-spacing: normal;text-align: left;color: #555;");
              var node3 = document. createTextNode("レンタル期間："+object.sd+"~"+object.ed+" ("+object.days+"日間");
              p3.appendChild(node3);
              var p4 = document.createElement('p');
              var node4 = document.createTextNode(object.trans_3 + " -: " + object.sname);
              p4.appendChild(node4);
              var p5 = document.createElement('p');
              var node5 = document.createTextNode(object.trans_4 + " -: " + object.mno);
              p5.appendChild(node5);
              textCol2.appendChild(p2);
              textCol2.appendChild(h);
              textCol2.appendChild(p3);
              textCol2.appendChild(p4);
              textCol2.appendChild(p5);
              var h6 = document.createElement('h6');
              h6.className = "text-center";
              h6.innerHTML = "(Last update: " + object.lu + ")";
              textCol2.appendChild(h6);
              var btnCont = document.createElement('div');
              btnCont.className = "container d-flex pl-0 ml-0 pt-2";
              var btnCont2 = document.createElement('div');
              btnCont2.className = "container pl-0 ml-0";
              var btnContSW = document.createElement('div');
              btnContSW.className = "scrolling-wrapper row flex-row flex-nowrap";
              btnContSW.setAttribute("style", "background-color: #fff");
              for (var j = 0; j < 8; j++) {
                var colSw = document.createElement('div');
                colSw.className = "col";
                var pSw = document.createElement("p");
                pSw.className = "text-nowrap text-center px-2";
                pSw.setAttribute("style", "background-color: #e06a3b; color: #555555;");
                if (j == 0) {
                  var nodeSw = document.createTextNode("申請");
                  pSw.setAttribute("style", "background-color: #e06a3b; color: #fff;");
                  pSw.appendChild(nodeSw);
                  colSw.appendChild(pSw);
                } else if (j == 1) {
                  var nodeSw = document.createTextNode("支払");
                  pSw.appendChild(nodeSw);
                  colSw.appendChild(pSw);
                } else if (j == 2) {
                  var nodeSw = document.createTextNode("発送");
                  pSw.appendChild(nodeSw);
                  colSw.appendChild(pSw);
                } else if (j == 3) {
                  var nodeSw = document.createTextNode("受取");
                  pSw.appendChild(nodeSw);
                  colSw.appendChild(pSw);
                } else if (j == 4) {
                  var nodeSw = document.createTextNode("レンタル期間");
                  pSw.appendChild(nodeSw);
                  colSw.appendChild(pSw);
                } else if (j == 5) {
                  var nodeSw = document.createTextNode("Cancellation requested");
                  pSw.appendChild(nodeSw);
                  colSw.appendChild(pSw);
                } else if (j == 6) {
                  var nodeSw = document.createTextNode("受取");
                  pSw.appendChild(nodeSw);
                  colSw.appendChild(pSw);
                } else if (j == 7) {
                  var nodeSw = document.createTextNode("取引終了");
                  pSw.appendChild(nodeSw);
                  colSw.appendChild(pSw);
                }
                btnContSW.appendChild(colSw);
              }
              btnCont2.appendChild(btnContSW);
              btnCont.appendChild(btnCont2);
              textCol2.appendChild(btnCont);
              textRow.appendChild(textCol2);
              textCol.appendChild(textRow);
              imgRow.appendChild(textCol);
              var col_btn_right = document.createElement('div');
              col_btn_right.className = "col text-right float-right";
              var row_btn_right = document.createElement('div');
              row_btn_right.className = "row justify-content-center mt-3 pt-3 px-0";
              var a_btn = document.createElement('a');
              a_btn.className = "px-0 mx-0";
              a_btn.href = object.btn;
              var btn_right = document.createElement('button');
              btn_right.className = "py-1 px-1 mx-0";
              btn_right.type = "button";
              btn_right.setAttribute("style", "color: #ffffff; border-radius: 4px; border-color:#aaa;background-color: #aaa;");
              btn_right.innerHTML = "お支払完了までおまちください";
              a_btn.appendChild(btn_right);
              row_btn_right.appendChild(a_btn);
              col_btn_right.appendChild(row_btn_right);
              imgRow.appendChild(col_btn_right);
              mainCont.appendChild(imgRow);
              listElm.appendChild(mainCont);
            }
            start = end;
          }
        }



        var listElm2 = document.getElementById('infList2');

        // Add 20 items.
        var start2 = 0;
        var end2 = 0;
        var qs_2 = [
        {% for item in products %}
          {% for object in item.cart.cartitem_set.all %}
            {% if object.status == 'shipped' %}
            {
              {% if object.product.image %}
                src: "{{ object.product.image.url }}",
              {% else %}
                src: "",
              {% endif %}
              oid: "{{ item.order_id }}",
              trans_1: "{% trans "Order Total" %}",
              ototal: "{{ item.total }}",
              pat: "{{ item.timestamp }}",
              quant: "{{ object.quantity }}",
              p_name: "{{ object.product.product_name }}",
              {% if object.product.discount_price %}
              strike: "true",
              cpd: "{{ object.product.cost_per_day }}",
              dp: "{{ object.product.discount_price }}",
              ps: "{{ object.product.get_amount_percent_saved }}",
              {% else %}
              strike: "false",
              cpd: "{{ object.product.cost_per_day }}",
              {% endif %}
              trans_2: "{% trans "Cost" %}",
              total: "{{ object.line_total }}",
              sd: "{{ object.start_date }}",
              ed: "{{ object.end_date }}",
              days:"{{ object.days }}",
              {% for o in object.product.user.supplier_set.all %}
                trans_3: "{% trans "lended by" %}",
                sname: "{{ o.Shop_name }}",
                trans_4: "{% trans "Contact" %}",
                mno: "{{ o.Mobile_number }}",
              {% endfor %}
              lu: "{{ object.updated }}",
              col_href: "{% url 'pdf' item.order_id %}",
              btn: '{{ item.get_absolute_url }}',
            },
            {% endif %}
          {% endfor %}
        {% endfor %}
       ];

      console.log("qs2",qs_2);
       var loadMore2 = function() {
         console.log('start',start2);
         console.log('end',end2);
        if (qs_2.length <= 0) {
          var h3 = document.createElement('h3');
          h3.className = "text-center";
          h3.innerHTML = "No Orders yet!";
          listElm2.appendChild(h3);
        } else {
          end2 += 5;
          if (end2 >= qs_2.length) {
            end2 = qs_2.length;
          }
          for (var i = start2; i < end2; i++) {
            console.log('start',start2);
            console.log('end',end2);
            var object = qs_2[i];
            console.log("in");
            var mainCont = document.createElement('div');
            mainCont.className = "container";
            mainCont.setAttribute("style", "background: #fff !important; border-bottom: 1px solid #68cfc3;");
            var imgRow = document.createElement('div');
            imgRow.className = "row pt-3";
            var imgCol = document.createElement('div');
            imgCol.className = "col-xs-2 col-md-1";
            var img = document.createElement('img');
            img.className = "img-thumbnail rounded flaot-left";
            img.setAttribute("style", "width: 60px; height: 60px");
            img.src = object.src;
            imgCol.appendChild(img);
            imgRow.appendChild(imgCol);
            var textCol = document.createElement('div');
            textCol.className = "col-xs-9 col-md-8 text-left pr-0 mr-0 justify-content-start";
            var p1 = document.createElement('p');
            p1.className = "pb-0 mb-0 text-left";
            p1.setAttribute("style", "font-size: 16px;font-weight: normal;font-stretch: normal;font-style: normal;letter-spacing: normal;text-align: left;color: #555;");
            var p1_oid = document.createElement('p');
            p1_oid.className = "text-center";
            var node1_oid = document.createTextNode("Order Id:- "+object.oid);
            var p1_ot = document.createElement('p');
            p1_ot.className = "text-center";
            var node1_ot = document.createTextNode(object.trans_1 + " :- " + "¥" + object.ototal);
            p1_ot.appendChild(node1_ot);
            var p1_pat = document.createElement('p');
            p1_pat.className = "text-center";
            var node1_pat = document.createTextNode("Placed At:- "+object.pat);
            p1_pat.appendChild(node1_pat);
            p1.appendChild(p1_oid);
            p1.appendChild(p1_ot);
            p1.appendChild(p1_pat);
            var node1 = document. createTextNode(object.quant + " X " + object.p_name);
            p1.appendChild(node1);
            textCol.appendChild(p1);
            var textRow = document.createElement('div');
            textRow.className = "d-flex flex-row flex-wrap justify-content-start text-left";
            var textCol2 = document.createElement('div');
            textCol2.className = "col pr-0 pl-0 ml-0";
            var p2 = document.createElement('p');
            p2.className = "pb-0 mb-0 text-left";
            p2.setAttribute("style", "font-size: 16px;font-weight: normal;font-stretch: normal;font-style: normal;letter-spacing: normal;text-align: left;color: #aaa;");
            if (object.strike) {
              var str = document.createElement('strike');
              str.innerHTML = "Y"+object.cpd+ " / 日";
              p2.appendChild(str);
              var node2 = document. createTextNode("Y"+object.dp+ " / 日" + " (" + object.ps + "% Off)");
              p2.appendChild(node2);
            } else {
              var node2 = document. createTextNode("Y" + object.cpd);
              p2.appendChild(node2);
            }
            var h = document.createElement('h6');
            h.innerHTML = "Cost -: &#165;"+object.total;
            var p3 = document.createElement('p');
            p3.className = "pb-0 mb-0 text-left";
            p3.setAttribute("style", "font-size: 16px;font-weight: normal;font-stretch: normal;font-style: normal;letter-spacing: normal;text-align: left;color: #555;");
            var node3 = document. createTextNode("レンタル期間："+object.sd+"~"+object.ed+" ("+object.days+"日間");
            p3.appendChild(node3);
            var p4 = document.createElement('p');
            var node4 = document.createTextNode(object.trans_3 + " -: " + object.sname);
            p4.appendChild(node4);
            var p5 = document.createElement('p');
            var node5 = document.createTextNode(object.trans_4 + " -: " + object.mno);
            p5.appendChild(node5);
            textCol2.appendChild(p2);
            textCol2.appendChild(h);
            textCol2.appendChild(p3);
            textCol2.appendChild(p4);
            textCol2.appendChild(p5);
            var h6 = document.createElement('h6');
            h6.className = "text-center";
            h6.innerHTML = "(Last update: " + object.lu + ")";
            textCol2.appendChild(h6);
            var btnCont = document.createElement('div');
            btnCont.className = "container d-flex pl-0 ml-0 pt-2";
            var btnCont2 = document.createElement('div');
            btnCont2.className = "container pl-0 ml-0";
            var btnContSW = document.createElement('div');
            btnContSW.className = "scrolling-wrapper row flex-row flex-nowrap";
            btnContSW.setAttribute("style", "background-color: #fff");
            for (var j = 0; j < 8; j++) {
              var colSw = document.createElement('div');
              colSw.className = "col";
              var pSw = document.createElement("p");
              pSw.className = "text-nowrap text-center px-2";
              pSw.setAttribute("style", "background-color: #f7f7f7; color: #555555;");
              if (j == 0) {
                var nodeSw = document.createTextNode("申請");
                pSw.appendChild(nodeSw);
                colSw.appendChild(pSw);
              } else if (j == 1) {
                var nodeSw = document.createTextNode("支払");
                pSw.setAttribute("style", "background-color: #e06a3b; color: #fff;");
                pSw.appendChild(nodeSw);
                colSw.appendChild(pSw);
              } else if (j == 2) {
                var nodeSw = document.createTextNode("発送");
                pSw.appendChild(nodeSw);
                colSw.appendChild(pSw);
              } else if (j == 3) {
                var nodeSw = document.createTextNode("受取");
                var a = document.createElement('a');
                a.className = "pt-2";
                a.href = object.col_href;
                pSw.setAttribute("style", "background-color: #aaa; color: #ffffff");
                a.appendChild(pSw);
                colSw.appendChild(a);
              } else if (j == 4) {
                var nodeSw = document.createTextNode("レンタル期間");
                pSw.appendChild(nodeSw);
                colSw.appendChild(pSw);
              } else if (j == 5) {
                var nodeSw = document.createTextNode("Cancellation requested");
                pSw.appendChild(nodeSw);
                colSw.appendChild(pSw);
              } else if (j == 6) {
                var nodeSw = document.createTextNode("受取");
                pSw.appendChild(nodeSw);
                colSw.appendChild(pSw);
              } else if (j == 7) {
                var nodeSw = document.createTextNode("取引終了");
                pSw.appendChild(nodeSw);
                colSw.appendChild(pSw);
              }
              btnContSW.appendChild(colSw);
            }
            btnCont2.appendChild(btnContSW);
            btnCont.appendChild(btnCont2);
            textCol2.appendChild(btnCont);
            textRow.appendChild(textCol2);
            textCol.appendChild(textRow);
            imgRow.appendChild(textCol);
            var col_btn_right = document.createElement('div');
            col_btn_right.className = "col text-right float-right";
            var row_btn_right = document.createElement('div');
            row_btn_right.className = "row justify-content-center mt-3 pt-3 px-0";
            var a_btn = document.createElement('a');
            a_btn.className = "px-0 mx-0";
            a_btn.href = object.btn;
            var btn_right = document.createElement('button');
            btn_right.className = "py-1 px-1 mx-0";
            btn_right.type = "button";
            btn_right.setAttribute("style", "color: #ffffff; border-radius: 4px; border-color:#aaa;background-color: #aaa;");
            btn_right.innerHTML = "お支払完了までおまちください";
            a_btn.appendChild(btn_right);
            row_btn_right.appendChild(a_btn);
            col_btn_right.appendChild(row_btn_right);
            imgRow.appendChild(col_btn_right);
            mainCont.appendChild(imgRow);
            listElm2.appendChild(mainCont);
          }
          start2 = end2;
        }
      }


      var listElm3 = document.getElementById('infList3');

      // Add 20 items.
      var start3 = 0;
      var end3 = 0;
      var qs_3 = [
      {% for item in products %}
        {% for object in item.cart.cartitem_set.all %}
          {% if object.refund_requested == True %}
          {
            {% if object.product.image %}
              src: "{{ object.product.image.url }}",
            {% else %}
              src: "",
            {% endif %}
            oid: "{{ item.order_id }}",
            trans_1: "{% trans "Order Total" %}",
            ototal: "{{ item.total }}",
            pat: "{{ item.timestamp }}",
            quant: "{{ object.quantity }}",
            p_name: "{{ object.product.product_name }}",
            {% if object.product.discount_price %}
            strike: "true",
            cpd: "{{ object.product.cost_per_day }}",
            dp: "{{ object.product.discount_price }}",
            ps: "{{ object.product.get_amount_percent_saved }}",
            {% else %}
            strike: "false",
            cpd: "{{ object.product.cost_per_day }}",
            {% endif %}
            trans_2: "{% trans "Cost" %}",
            total: "{{ object.line_total }}",
            sd: "{{ object.start_date }}",
            ed: "{{ object.end_date }}",
            days:"{{ object.days }}",
            {% for o in object.product.user.supplier_set.all %}
              trans_3: "{% trans "lended by" %}",
              sname: "{{ o.Shop_name }}",
              trans_4: "{% trans "Contact" %}",
              mno: "{{ o.Mobile_number }}",
            {% endfor %}
            lu: "{{ object.updated }}",
            {% if item.refund_granted %}
            rg: "true",
            {% else %}
            rg: "false",
            {% endif %}
            btn: '{{ item.get_absolute_url }}',
          },
          {% endif %}
        {% endfor %}
      {% endfor %}
     ];

    console.log("qs3",qs_3);
     var loadMore3 = function() {
       console.log('start',start3);
       console.log('end',end3);
      if (qs_3.length <= 0) {
        var h3 = document.createElement('h3');
        h3.className = "text-center";
        h3.innerHTML = "No Orders yet!";
        listElm3.appendChild(h3);
      } else {
        end3 += 5;
        if (end3 >= qs_3.length) {
          end3 = qs_3.length;
        }
        for (var i = start3; i < end3; i++) {
          console.log('start',start3);
          console.log('end',end3);
          var object = qs_3[i];
          console.log("in");
          var mainCont = document.createElement('div');
          mainCont.className = "container";
          mainCont.setAttribute("style", "background: #fff !important; border-bottom: 1px solid #68cfc3;");
          var imgRow = document.createElement('div');
          imgRow.className = "row pt-3";
          var imgCol = document.createElement('div');
          imgCol.className = "col-xs-2 col-md-1";
          var img = document.createElement('img');
          img.className = "img-thumbnail rounded flaot-left";
          img.setAttribute("style", "width: 60px; height: 60px");
          img.src = object.src;
          imgCol.appendChild(img);
          imgRow.appendChild(imgCol);
          var textCol = document.createElement('div');
          textCol.className = "col-xs-9 col-md-8 text-left pr-0 mr-0 justify-content-start";
          var p1 = document.createElement('p');
          p1.className = "pb-0 mb-0 text-left";
          p1.setAttribute("style", "font-size: 16px;font-weight: normal;font-stretch: normal;font-style: normal;letter-spacing: normal;text-align: left;color: #555;");
          var p1_oid = document.createElement('p');
          p1_oid.className = "text-center";
          var node1_oid = document.createTextNode("Order Id:- "+object.oid);
          var p1_ot = document.createElement('p');
          p1_ot.className = "text-center";
          var node1_ot = document.createTextNode(object.trans_1 + " :- " + "¥" + object.ototal);
          p1_ot.appendChild(node1_ot);
          var p1_pat = document.createElement('p');
          p1_pat.className = "text-center";
          var node1_pat = document.createTextNode("Placed At:- "+object.pat);
          p1_pat.appendChild(node1_pat);
          p1.appendChild(p1_oid);
          p1.appendChild(p1_ot);
          p1.appendChild(p1_pat);
          var node1 = document. createTextNode(object.quant + " X " + object.p_name);
          p1.appendChild(node1);
          textCol.appendChild(p1);
          var textRow = document.createElement('div');
          textRow.className = "d-flex flex-row flex-wrap justify-content-start text-left";
          var textCol2 = document.createElement('div');
          textCol2.className = "col pr-0 pl-0 ml-0";
          var p2 = document.createElement('p');
          p2.className = "pb-0 mb-0 text-left";
          p2.setAttribute("style", "font-size: 16px;font-weight: normal;font-stretch: normal;font-style: normal;letter-spacing: normal;text-align: left;color: #aaa;");
          if (object.strike) {
            var str = document.createElement('strike');
            str.innerHTML = "Y"+object.cpd+ " / 日";
            p2.appendChild(str);
            var node2 = document. createTextNode("Y"+object.dp+ " / 日" + " (" + object.ps + "% Off)");
            p2.appendChild(node2);
          } else {
            var node2 = document. createTextNode("Y" + object.cpd);
            p2.appendChild(node2);
          }
          var h = document.createElement('h6');
          h.innerHTML = "Cost -: &#165;"+object.total;
          var p3 = document.createElement('p');
          p3.className = "pb-0 mb-0 text-left";
          p3.setAttribute("style", "font-size: 16px;font-weight: normal;font-stretch: normal;font-style: normal;letter-spacing: normal;text-align: left;color: #555;");
          var node3 = document. createTextNode("レンタル期間："+object.sd+"~"+object.ed+" ("+object.days+"日間");
          p3.appendChild(node3);
          var p4 = document.createElement('p');
          var node4 = document.createTextNode(object.trans_3 + " -: " + object.sname);
          p4.appendChild(node4);
          var p5 = document.createElement('p');
          var node5 = document.createTextNode(object.trans_4 + " -: " + object.mno);
          p5.appendChild(node5);
          textCol2.appendChild(p2);
          textCol2.appendChild(h);
          textCol2.appendChild(p3);
          textCol2.appendChild(p4);
          textCol2.appendChild(p5);
          var h6 = document.createElement('h6');
          h6.className = "text-center";
          h6.innerHTML = "(Last update: " + object.lu + ")";
          textCol2.appendChild(h6);
          var btnCont = document.createElement('div');
          btnCont.className = "container d-flex pl-0 ml-0 pt-2";
          var btnCont2 = document.createElement('div');
          btnCont2.className = "container pl-0 ml-0";
          var btnContSW = document.createElement('div');
          btnContSW.className = "scrolling-wrapper row flex-row flex-nowrap";
          btnContSW.setAttribute("style", "background-color: #fff");
          for (var j = 0; j < 8; j++) {
            var colSw = document.createElement('div');
            colSw.className = "col";
            var pSw = document.createElement("p");
            pSw.className = "text-nowrap text-center px-2";
            pSw.setAttribute("style", "background-color: #f7f7f7; color: #555555;");
            if (j == 0) {
              var nodeSw = document.createTextNode("申請");
              pSw.appendChild(nodeSw);
              colSw.appendChild(pSw);
            } else if (j == 1) {
              var nodeSw = document.createTextNode("支払");
              pSw.appendChild(nodeSw);
              colSw.appendChild(pSw);
            } else if (j == 2) {
              var nodeSw = document.createTextNode("発送");
              pSw.setAttribute("style", "background-color: #e06a3b; color: #fff;");
              pSw.appendChild(nodeSw);
              colSw.appendChild(pSw);
            } else if (j == 3) {
              var nodeSw = document.createTextNode("受取");
              pSw.appendChild(nodeSw);
              colSw.appendChild(pSw);
            } else if (j == 4) {
              var nodeSw = document.createTextNode("レンタル期間");
              pSw.appendChild(nodeSw);
              colSw.appendChild(pSw);
            } else if (j == 5) {
              if (object.rg) {
                var nodeSw = document.createTextNode("Refund granted");
              } else {
                var nodeSw = document.createTextNode("Refund requested");
              }
              pSw.setAttribute("style", "background-color: #aaa; color: #ffffff");
              pSw.appendChild(nodeSw);
              colSw.appendChild(pSw);
            } else if (j == 6) {
              var nodeSw = document.createTextNode("受取");
              pSw.appendChild(nodeSw);
              colSw.appendChild(pSw);
            } else if (j == 7) {
              var nodeSw = document.createTextNode("取引終了");
              pSw.appendChild(nodeSw);
              colSw.appendChild(pSw);
            }
            btnContSW.appendChild(colSw);
          }
          btnCont2.appendChild(btnContSW);
          btnCont.appendChild(btnCont2);
          textCol2.appendChild(btnCont);
          textRow.appendChild(textCol2);
          textCol.appendChild(textRow);
          imgRow.appendChild(textCol);
          var col_btn_right = document.createElement('div');
          col_btn_right.className = "col text-right float-right";
          var row_btn_right = document.createElement('div');
          row_btn_right.className = "row justify-content-center mt-3 pt-3 px-0";
          var a_btn = document.createElement('a');
          a_btn.className = "px-0 mx-0";
          a_btn.href = object.btn;
          var btn_right = document.createElement('button');
          btn_right.className = "py-1 px-1 mx-0";
          btn_right.type = "button";
          btn_right.setAttribute("style", "color: #ffffff; border-radius: 4px; border-color:#aaa;background-color: #aaa;");
          btn_right.innerHTML = "お支払完了までおまちください";
          a_btn.appendChild(btn_right);
          row_btn_right.appendChild(a_btn);
          col_btn_right.appendChild(row_btn_right);
          imgRow.appendChild(col_btn_right);
          mainCont.appendChild(imgRow);
          listElm3.appendChild(mainCont);
        }
        start3 = end3;
      }
    }

    var listElm4 = document.getElementById('infList4');

    // Add 20 items.
    var start4 = 0;
    var end4 = 0;
    var qs_4 = [
    {% for item in products %}
      {% for object in item.cart.cartitem_set.all %}
        {% if object.status == 'returned back' %}
        {
          {% if object.product.image %}
            src: "{{ object.product.image.url }}",
          {% else %}
            src: "",
          {% endif %}
          oid: "{{ item.order_id }}",
          trans_1: "{% trans "Order Total" %}",
          ototal: "{{ item.total }}",
          pat: "{{ item.timestamp }}",
          quant: "{{ object.quantity }}",
          p_name: "{{ object.product.product_name }}",
          {% if object.product.discount_price %}
          strike: "true",
          cpd: "{{ object.product.cost_per_day }}",
          dp: "{{ object.product.discount_price }}",
          ps: "{{ object.product.get_amount_percent_saved }}",
          {% else %}
          strike: "false",
          cpd: "{{ object.product.cost_per_day }}",
          {% endif %}
          trans_2: "{% trans "Cost" %}",
          total: "{{ object.line_total }}",
          sd: "{{ object.start_date }}",
          ed: "{{ object.end_date }}",
          days:"{{ object.days }}",
          {% for o in object.product.user.supplier_set.all %}
            trans_3: "{% trans "lended by" %}",
            sname: "{{ o.Shop_name }}",
            trans_4: "{% trans "Contact" %}",
            mno: "{{ o.Mobile_number }}",
          {% endfor %}
          lu: "{{ object.updated }}",
          col_href: "{% url 'pdf' item.order_id %}",
          btn: '{{ item.get_absolute_url }}',
        },
        {% endif %}
      {% endfor %}
    {% endfor %}
   ];

  console.log("qs4",qs_4);
   var loadMore4 = function() {
     console.log('start',start);
     console.log('end',end);
    if (qs_4.length <= 0) {
      var h3 = document.createElement('h3');
      h3.className = "text-center";
      h3.innerHTML = "No Orders yet!";
      listElm4.appendChild(h3);
    } else {
      end4 += 5;
      if (end4 >= qs_4.length) {
        end4 = qs_4.length;
      }
      for (var i = start4; i < end4; i++) {
        console.log('start',start4);
        console.log('end',end4);
        var object = qs_4[i];
        console.log("in");
        var mainCont = document.createElement('div');
        mainCont.className = "container";
        mainCont.setAttribute("style", "background: #fff !important; border-bottom: 1px solid #68cfc3;");
        var imgRow = document.createElement('div');
        imgRow.className = "row pt-3";
        var imgCol = document.createElement('div');
        imgCol.className = "col-xs-2 col-md-1";
        var img = document.createElement('img');
        img.className = "img-thumbnail rounded flaot-left";
        img.setAttribute("style", "width: 60px; height: 60px");
        img.src = object.src;
        imgCol.appendChild(img);
        imgRow.appendChild(imgCol);
        var textCol = document.createElement('div');
        textCol.className = "col-xs-9 col-md-8 text-left pr-0 mr-0 justify-content-start";
        var p1 = document.createElement('p');
        p1.className = "pb-0 mb-0 text-left";
        p1.setAttribute("style", "font-size: 16px;font-weight: normal;font-stretch: normal;font-style: normal;letter-spacing: normal;text-align: left;color: #555;");
        var p1_oid = document.createElement('p');
        p1_oid.className = "text-center";
        var node1_oid = document.createTextNode("Order Id:- "+object.oid);
        var p1_ot = document.createElement('p');
        p1_ot.className = "text-center";
        var node1_ot = document.createTextNode(object.trans_1 + " :- " + "¥" + object.ototal);
        p1_ot.appendChild(node1_ot);
        var p1_pat = document.createElement('p');
        p1_pat.className = "text-center";
        var node1_pat = document.createTextNode("Placed At:- "+object.pat);
        p1_pat.appendChild(node1_pat);
        p1.appendChild(p1_oid);
        p1.appendChild(p1_ot);
        p1.appendChild(p1_pat);
        var node1 = document. createTextNode(object.quant + " X " + object.p_name);
        p1.appendChild(node1);
        textCol.appendChild(p1);
        var textRow = document.createElement('div');
        textRow.className = "d-flex flex-row flex-wrap justify-content-start text-left";
        var textCol2 = document.createElement('div');
        textCol2.className = "col pr-0 pl-0 ml-0";
        var p2 = document.createElement('p');
        p2.className = "pb-0 mb-0 text-left";
        p2.setAttribute("style", "font-size: 16px;font-weight: normal;font-stretch: normal;font-style: normal;letter-spacing: normal;text-align: left;color: #aaa;");
        if (object.strike) {
          var str = document.createElement('strike');
          str.innerHTML = "Y"+object.cpd+ " / 日";
          p2.appendChild(str);
          var node2 = document. createTextNode("Y"+object.dp+ " / 日" + " (" + object.ps + "% Off)");
          p2.appendChild(node2);
        } else {
          var node2 = document. createTextNode("Y" + object.cpd);
          p2.appendChild(node2);
        }
        var h = document.createElement('h6');
        h.innerHTML = "Cost -: &#165;"+object.total;
        var p3 = document.createElement('p');
        p3.className = "pb-0 mb-0 text-left";
        p3.setAttribute("style", "font-size: 16px;font-weight: normal;font-stretch: normal;font-style: normal;letter-spacing: normal;text-align: left;color: #555;");
        var node3 = document. createTextNode("レンタル期間："+object.sd+"~"+object.ed+" ("+object.days+"日間");
        p3.appendChild(node3);
        var p4 = document.createElement('p');
        var node4 = document.createTextNode(object.trans_3 + " -: " + object.sname);
        p4.appendChild(node4);
        var p5 = document.createElement('p');
        var node5 = document.createTextNode(object.trans_4 + " -: " + object.mno);
        p5.appendChild(node5);
        textCol2.appendChild(p2);
        textCol2.appendChild(h);
        textCol2.appendChild(p3);
        textCol2.appendChild(p4);
        textCol2.appendChild(p5);
        var h6 = document.createElement('h6');
        h6.className = "text-center";
        h6.innerHTML = "(Last update: " + object.lu + ")";
        textCol2.appendChild(h6);
        var btnCont = document.createElement('div');
        btnCont.className = "container d-flex pl-0 ml-0 pt-2";
        var btnCont2 = document.createElement('div');
        btnCont2.className = "container pl-0 ml-0";
        var btnContSW = document.createElement('div');
        btnContSW.className = "scrolling-wrapper row flex-row flex-nowrap";
        btnContSW.setAttribute("style", "background-color: #fff");
        for (var j = 0; j < 8; j++) {
          var colSw = document.createElement('div');
          colSw.className = "col";
          var pSw = document.createElement("p");
          pSw.className = "text-nowrap text-center px-2";
          pSw.setAttribute("style", "background-color: #f7f7f7; color: #555555;");
          if (j == 0) {
            var nodeSw = document.createTextNode("申請");
            pSw.appendChild(nodeSw);
            colSw.appendChild(pSw);
          } else if (j == 1) {
            var nodeSw = document.createTextNode("支払");
            pSw.appendChild(nodeSw);
            colSw.appendChild(pSw);
          } else if (j == 2) {
            var nodeSw = document.createTextNode("発送");
            pSw.appendChild(nodeSw);
            colSw.appendChild(pSw);
          } else if (j == 3) {
            var nodeSw = document.createTextNode("受取");
            pSw.appendChild(nodeSw);
            colSw.appendChild(pSw);
          } else if (j == 4) {
            var nodeSw = document.createTextNode("レンタル期間");
            pSw.setAttribute("style", "background-color: #e06a3b; color: #fff;");
            pSw.appendChild(nodeSw);
            colSw.appendChild(pSw);
          } else if (j == 5) {
            var nodeSw = document.createTextNode("Cancellation requested");
            pSw.appendChild(nodeSw);
            colSw.appendChild(pSw);
          } else if (j == 6) {
            var nodeSw = document.createTextNode("受取");
            pSw.appendChild(nodeSw);
            colSw.appendChild(pSw);
          } else if (j == 7) {
            var nodeSw = document.createTextNode("受取");
            var a = document.createElement('a');
            a.className = "pt-2";
            a.href = object.col_href;
            pSw.setAttribute("style", "background-color: #aaa; color: #ffffff");
            pSw.appendChild(nodeSw);
            a.appendChild(pSw);
            colSw.appendChild(a);
          }
          btnContSW.appendChild(colSw);
        }
        btnCont2.appendChild(btnContSW);
        btnCont.appendChild(btnCont2);
        textCol2.appendChild(btnCont);
        textRow.appendChild(textCol2);
        textCol.appendChild(textRow);
        imgRow.appendChild(textCol);
        var col_btn_right = document.createElement('div');
        col_btn_right.className = "col text-right float-right";
        var row_btn_right = document.createElement('div');
        row_btn_right.className = "row justify-content-center mt-3 pt-3 px-0";
        var a_btn = document.createElement('a');
        a_btn.className = "px-0 mx-0";
        a_btn.href = object.btn;
        var btn_right = document.createElement('button');
        btn_right.className = "py-1 px-1 mx-0";
        btn_right.type = "button";
        btn_right.setAttribute("style", "color: #ffffff; border-radius: 4px; border-color:#aaa;background-color: #aaa;");
        btn_right.innerHTML = "お支払完了までおまちください";
        a_btn.appendChild(btn_right);
        row_btn_right.appendChild(a_btn);
        col_btn_right.appendChild(row_btn_right);
        imgRow.appendChild(col_btn_right);
        mainCont.appendChild(imgRow);
        listElm4.appendChild(mainCont);
      }
      start4 = end4;
    }
  }

  var listElm5 = document.getElementById('infList5');

  // Add 20 items.
  var start5 = 0;
  var end5 = 0;
  var qs_5 = [
  {% for item in products %}
    {% for object in item.cart.cartitem_set.all %}
      {% if object.cancel_request == True %}
      {
        {% if object.product.image %}
          src: "{{ object.product.image.url }}",
        {% else %}
          src: "",
        {% endif %}
        oid: "{{ item.order_id }}",
        trans_1: "{% trans "Order Total" %}",
        ototal: "{{ item.total }}",
        pat: "{{ item.timestamp }}",
        quant: "{{ object.quantity }}",
        p_name: "{{ object.product.product_name }}",
        {% if object.product.discount_price %}
        strike: "true",
        cpd: "{{ object.product.cost_per_day }}",
        dp: "{{ object.product.discount_price }}",
        ps: "{{ object.product.get_amount_percent_saved }}",
        {% else %}
        strike: "false",
        cpd: "{{ object.product.cost_per_day }}",
        {% endif %}
        trans_2: "{% trans "Cost" %}",
        total: "{{ object.line_total }}",
        sd: "{{ object.start_date }}",
        ed: "{{ object.end_date }}",
        days:"{{ object.days }}",
        {% for o in object.product.user.supplier_set.all %}
          trans_3: "{% trans "lended by" %}",
          sname: "{{ o.Shop_name }}",
          trans_4: "{% trans "Contact" %}",
          mno: "{{ o.Mobile_number }}",
        {% endfor %}
        lu: "{{ object.updated }}",
        col_href: "{% url 'supplierpdf' object.id item.order_id %}",
        btn: '{{ item.get_absolute_url }}',
      },
      {% endif %}
    {% endfor %}
  {% endfor %}
 ];

console.log("qs5",qs_5);
 var loadMore5 = function() {
   console.log('start',start5);
   console.log('end',end5);
  if (qs_5.length <= 0) {
    var h3 = document.createElement('h3');
    h3.className = "text-center";
    h3.innerHTML = "No Orders yet!";
    listElm5.appendChild(h3);
  } else {
    end5 += 5;
    if (end5 >= qs_5.length) {
      end5 = qs_5.length;
    }
    for (var i = start5; i < end5; i++) {
      console.log('start',start);
      console.log('end',end);
      var object = qs_5[i];
      console.log("in");
      var mainCont = document.createElement('div');
      mainCont.className = "container";
      mainCont.setAttribute("style", "background: #fff !important; border-bottom: 1px solid #68cfc3;");
      var imgRow = document.createElement('div');
      imgRow.className = "row pt-3";
      var imgCol = document.createElement('div');
      imgCol.className = "col-xs-2 col-md-1";
      var img = document.createElement('img');
      img.className = "img-thumbnail rounded flaot-left";
      img.setAttribute("style", "width: 60px; height: 60px");
      img.src = object.src;
      imgCol.appendChild(img);
      imgRow.appendChild(imgCol);
      var textCol = document.createElement('div');
      textCol.className = "col-xs-9 col-md-8 text-left pr-0 mr-0 justify-content-start";
      var p1 = document.createElement('p');
      p1.className = "pb-0 mb-0 text-left";
      p1.setAttribute("style", "font-size: 16px;font-weight: normal;font-stretch: normal;font-style: normal;letter-spacing: normal;text-align: left;color: #555;");
      var p1_oid = document.createElement('p');
      p1_oid.className = "text-center";
      var node1_oid = document.createTextNode("Order Id:- "+object.oid);
      var p1_ot = document.createElement('p');
      p1_ot.className = "text-center";
      var node1_ot = document.createTextNode(object.trans_1 + " :- " + "¥" + object.ototal);
      p1_ot.appendChild(node1_ot);
      var p1_pat = document.createElement('p');
      p1_pat.className = "text-center";
      var node1_pat = document.createTextNode("Placed At:- "+object.pat);
      p1_pat.appendChild(node1_pat);
      p1.appendChild(p1_oid);
      p1.appendChild(p1_ot);
      p1.appendChild(p1_pat);
      var node1 = document. createTextNode(object.quant + " X " + object.p_name);
      p1.appendChild(node1);
      textCol.appendChild(p1);
      var textRow = document.createElement('div');
      textRow.className = "d-flex flex-row flex-wrap justify-content-start text-left";
      var textCol2 = document.createElement('div');
      textCol2.className = "col pr-0 pl-0 ml-0";
      var p2 = document.createElement('p');
      p2.className = "pb-0 mb-0 text-left";
      p2.setAttribute("style", "font-size: 16px;font-weight: normal;font-stretch: normal;font-style: normal;letter-spacing: normal;text-align: left;color: #aaa;");
      if (object.strike) {
        var str = document.createElement('strike');
        str.innerHTML = "Y"+object.cpd+ " / 日";
        p2.appendChild(str);
        var node2 = document. createTextNode("Y"+object.dp+ " / 日" + " (" + object.ps + "% Off)");
        p2.appendChild(node2);
      } else {
        var node2 = document. createTextNode("Y" + object.cpd);
        p2.appendChild(node2);
      }
      var h = document.createElement('h6');
      h.innerHTML = "Cost -: &#165;"+object.total;
      var p3 = document.createElement('p');
      p3.className = "pb-0 mb-0 text-left";
      p3.setAttribute("style", "font-size: 16px;font-weight: normal;font-stretch: normal;font-style: normal;letter-spacing: normal;text-align: left;color: #555;");
      var node3 = document. createTextNode("レンタル期間："+object.sd+"~"+object.ed+" ("+object.days+"日間");
      p3.appendChild(node3);
      var p4 = document.createElement('p');
      var node4 = document.createTextNode(object.trans_3 + " -: " + object.sname);
      p4.appendChild(node4);
      var p5 = document.createElement('p');
      var node5 = document.createTextNode(object.trans_4 + " -: " + object.mno);
      p5.appendChild(node5);
      textCol2.appendChild(p2);
      textCol2.appendChild(h);
      textCol2.appendChild(p3);
      textCol2.appendChild(p4);
      textCol2.appendChild(p5);
      var h6 = document.createElement('h6');
      h6.className = "text-center";
      h6.innerHTML = "(Last update: " + object.lu + ")";
      textCol2.appendChild(h6);
      var btnCont = document.createElement('div');
      btnCont.className = "container d-flex pl-0 ml-0 pt-2";
      var btnCont2 = document.createElement('div');
      btnCont2.className = "container pl-0 ml-0";
      var btnContSW = document.createElement('div');
      btnContSW.className = "scrolling-wrapper row flex-row flex-nowrap";
      btnContSW.setAttribute("style", "background-color: #fff");
      for (var j = 0; j < 8; j++) {
        var colSw = document.createElement('div');
        colSw.className = "col";
        var pSw = document.createElement("p");
        pSw.className = "text-nowrap text-center px-2";
        pSw.setAttribute("style", "background-color: #f7f7f7; color: #555555;");
        if (j == 0) {
          var nodeSw = document.createTextNode("申請");
          pSw.appendChild(nodeSw);
          colSw.appendChild(pSw);
        } else if (j == 1) {
          var nodeSw = document.createTextNode("支払");
          pSw.appendChild(nodeSw);
          colSw.appendChild(pSw);
        } else if (j == 2) {
          var nodeSw = document.createTextNode("発送");
          pSw.appendChild(nodeSw);
          colSw.appendChild(pSw);
        } else if (j == 3) {
          var nodeSw = document.createTextNode("受取");
          pSw.appendChild(nodeSw);
          colSw.appendChild(pSw);
        } else if (j == 4) {
          var nodeSw = document.createTextNode("レンタル期間");
          pSw.appendChild(nodeSw);
          colSw.appendChild(pSw);
        } else if (j == 5) {
          var nodeSw = document.createTextNode("Cancellation requested");
          pSw.appendChild(nodeSw);
          colSw.appendChild(pSw);
        } else if (j == 6) {
          var nodeSw = document.createTextNode("受取");
          var a = document.createElement('a');
          a.className = "pt-2";
          a.href = object.col_href;
          pSw.setAttribute("style", "background-color: #aaa; color: #ffffff");
          pSw.appendChild(nodeSw);
          a.appendChild(pSw);
          colSw.appendChild(a);
        } else if (j == 7) {
          var nodeSw = document.createTextNode("取引終了");
          pSw.setAttribute("style", "background-color: #e06a3b; color: #fff;");
          pSw.appendChild(nodeSw);
          colSw.appendChild(pSw);
        }
        btnContSW.appendChild(colSw);
      }
      btnCont2.appendChild(btnContSW);
      btnCont.appendChild(btnCont2);
      textCol2.appendChild(btnCont);
      textRow.appendChild(textCol2);
      textCol.appendChild(textRow);
      imgRow.appendChild(textCol);
      var col_btn_right = document.createElement('div');
      col_btn_right.className = "col text-right float-right";
      var row_btn_right = document.createElement('div');
      row_btn_right.className = "row justify-content-center mt-3 pt-3 px-0";
      var a_btn = document.createElement('a');
      a_btn.className = "px-0 mx-0";
      a_btn.href = object.btn;
      var btn_right = document.createElement('button');
      btn_right.className = "py-1 px-1 mx-0";
      btn_right.type = "button";
      btn_right.setAttribute("style", "color: #ffffff; border-radius: 4px; border-color:#aaa;background-color: #aaa;");
      btn_right.innerHTML = "お支払完了までおまちください";
      a_btn.appendChild(btn_right);
      row_btn_right.appendChild(a_btn);
      col_btn_right.appendChild(row_btn_right);
      imgRow.appendChild(col_btn_right);
      mainCont.appendChild(imgRow);
      listElm5.appendChild(mainCont);
    }
    start5 = end5;
  }
}
function loadTabData() {
  switch (selTab) {
    case "tab_btn1":
      if (qs.length>0) {
        loadMore();
        console.log("st", selTab);
      }
      break;
    case "tab_btn2":
      if (qs_2.length>0) {
        loadMore2();
        console.log("st", selTab);
      }
      break;
    case "tab_btn3":
      if (qs_3.length>0) {
        loadMore3();
        console.log("st", selTab);
      }
      break;
    case "tab_btn4":
      if (qs_4.length>0) {
        loadMore4();
        console.log("st", selTab);
      }
      break;
    case "tab_btn5":
      if (qs_5.length>0) {
        loadMore5();
        console.log("st", selTab);
      }
      break;
    case "tab_btn6":
      if (qs_6.length>0) {
        loadMore6();
        console.log("st", selTab);
      }
      break;
    default:
  }
}
window.addEventListener("scroll", function () {
    var scrollHeight = $(document).height();
    var scrollPos = $(window).height() + $(window).scrollTop();
    var elmnt = document.getElementById("infList");
    var footer = document.getElementById("footer");
    var fh = footer.clientHeight;
    console.log("fh", fh);
    var dh = elmnt.clientHeight + elmnt.scrollTop;
    //console.log("dh", dh);
    console.log("sh", scrollHeight);
    console.log("sp", scrollPos);
    console.log("ifCond", (scrollHeight - (scrollPos + fh)));
    if ((scrollHeight - (scrollPos + fh)) <= 1) {
      loadTabData();
      console.log("bottom!");
    }
}, false);

// Initially load some items.
loadMore();
        </script>
      </div>
    </div>


  <!-- partial -->
    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script><script src="{% static 'js/vertical-nav.js' %}"></script>

  </body>
  </div>
  </html>


  <!-- {% if products.has_other_pages %}
  <ul class="pagination justify-content-center">
    {% if products.has_previous %}
      <li class='page-item'><a class='page-link' href="?page={{ products.previous_page_number }}">&laquo;</a></li>
    {% else %}
      <li class='page-item'><span class='current'>&laquo;</span></li>
    {% endif %}
    {% for i in products.paginator.page_range %}
      {% if products.number == i %}
        <li class='page-item active'><span class='step-links'>{{ i }} <span class="sr-only">(current)</span></span></li>
      {% else %}
        <li class='page-item active'><a class='page-link' href="?page={{ i }}">{{ i }}</a></li>
      {% endif %}
    {% endfor %}
    {% if products.has_next %}
      <li class='page-item'><a class='page-link' href="?page={{ products.next_page_number }}">&raquo;</a></li>
    {% else %}
      <li class='page-item'><span class='step-links'>&raquo;</span></li>
    {% endif %}
  </ul>
{% endif %} -->



{% if is_paginated %}
  <ul class="pagination">
    {% if page_obj.has_previous %}
      <li><a href="?page={{ page_obj.previous_page_number }}">&laquo;</a></li>
    {% else %}
      <li class="disabled"><span>&laquo;</span></li>
    {% endif %}
    {% for i in paginator.page_range %}
      {% if page_obj.number == i %}
        <li class="active"><span>{{ i }} <span class="sr-only">(current)</span></span></li>
      {% else %}
        <li><a href="?page={{ i }}">{{ i }}</a></li>
      {% endif %}
    {% endfor %}
    {% if page_obj.has_next %}
      <li><a href="?page={{ page_obj.next_page_number }}">&raquo;</a></li>
    {% else %}
      <li class="disabled"><span>&raquo;</span></li>
    {% endif %}
  </ul>
{% endif %}

</div>

{% endblock %}
